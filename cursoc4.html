<HTML><!-- InstanceBegin template="/Templates/plantilla.dwt" codeOutsideHTMLIsLocked="false" -->

<HEAD>
	<!-- InstanceBeginEditable name="doctitle" -->
	<TITLE>Curso de C - Constantes (uso de #define)</TITLE>
	<!-- InstanceEndEditable -->
	<meta name="decription" content="Curso de C - Introducción">
	<meta name="keywords" content="Programación, Curso de C, C">
	<META NAME="GENERATOR" CONTENT="Arachnophilia 3.5">
	<META NAME="FORMATTER" CONTENT="Arachnophilia 3.5">
	<meta name="author" content="Gorka Urrutia">
	<meta name="DC.Creator" content="Gorka Urrutia">
	<META name="robots" content="noindex, nofollow">
	<link rel="stylesheet" href="cursoc.css">
	<!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable -->
</HEAD>

<BODY>
	<a name="arriba"></a>

	<table width="100%" border="0">
		<tr>
			<td align="left"><img src="cursoc.gif" alt="Curso de C" border="0">
			</td>
			<td align="right"><a href="http://www.elrincondelc.com" target="_top"><img src="colibri.gif"
						alt="El Rincón del C - www.elrincondelc.com" border="0"></a>
			</td>
		</tr>
	</table>
	<!-- InstanceBeginEditable name="Titulo" -->

	<h1>Constantes (uso de #define)</h1>
	<!-- InstanceEndEditable -->


	<p class="barranavegaciontop">
		<!-- InstanceBeginEditable name="BarraNavegacion" -->
		<a href="cursoc3.html">[Anterior]</a> <a href="cursoc5.html">[Siguiente]</a>
		<a href="index.html" target="_top">[Contenido]</a>
		<!-- InstanceEndEditable -->
	</p>

	<!-- InstanceBeginEditable name="Cuerpo" -->
	<a name="arriba"></a>

	<A NAME="arriba"></A>
	<H2>
		Contenido del Capítulo
	</H2>
	<UL>
		<A HREF="#intro">Introducción</A><BR>
		<A HREF="#nombre">Constantes con nombre</A><BR>
		<!--A HREF="#ejercicios">Ejercicios</A-->
	</UL>
	<P>

		<A NAME="intro"></A>
	<H2>
		Introducción
	</H2>

	<p>Las constantes son aquellos datos que no pueden cambiar a lo largo de la ejecución de un programa.</p>

	<DIV CLASS="ejemplo">
		<PRE>
#include &lt;stdio.h&gt;

int main()
	{
	int radio, perimetro;

	radio = 20;
	perimetro = 2 * 3.1416 * radio;

	printf( "El perímetro es: %i", perimetro  );
	
	return 0;
	}
</PRE>
	</DIV>

	<p><I>radio</I> y <I>perimetro</I> son variables, su valor puede cambiar a lo largo del programa. Sin embargo 20, 2
		y 3.1416 son constantes, no hay manera de cambiarlas. El valor 3.1416 no cambia a lo largo del programa , ni
		entre ejecución y ejecución. Sólo cambiará cuando edites el programa y lo cambies tú mismo. Esto es obvio, y no
		tiene ningún misterio así que no le des vueltas. Sólo quería indicarlo porque en algunos libros le dan muchas
		vueltas.</p>

	<p class="volver"><a href="#arriba">[Arriba]</a></p>

	<A NAME="nombre"></A>
	<H2>
		Constantes con nombre
	</H2>

	<P>Supongamos que tenemos que hacer un programa en el que haya que escribir unas cuantas veces 3.1416 (como todos
		sabréis es PI). Es muy fácil que nos confundamos alguna vez al teclearlo y al compilar el programa no tendremos
		ningún error, sin embargo el programa no dará resultados correctos. Para evitar esto usamos las constantes con
		nombre. Al definir una constante con nombre estamos dando un nombre al valor, a 3.1416 le llamamos PI.</p>

	<p>Estas constantes se definen de la manera siguiente:</P>

	<DIV CLASS="ejemplo">
		<PRE>
	<B>#define</B> nombre_de_la_constante	valor_de_la_constante
</PRE>
	</DIV>

	<p>Ejemplo:</p>

	<DIV CLASS="ejemplo">
		<PRE>
#include &lt;stdio.h&gt;

<B>#define PI	3.1416</B>

int main()
	{
	int radio, perimetro;

	radio = 20;
	perimetro = 2 * <B>PI</B> * radio;

	printf( "El perímetro es: %i", perimetro  );
	
	return 0;
	}
</PRE>
	</DIV>

	<p>De esta forma cada vez que el compilador encuentre el nombre PI lo sustituirá por 3.1416.
	</P>

	<p>A una constante no se le puede dar un valor mientras se ejecuta, no se puede hacer PI = 20;. Sólo se le puede dar
		un valor con #define, y sólo una vez.
		Tampoco podemos usar el scanf para dar valores a una constante:</p>

	<DIV CLASS="ejemplo">
		<PRE>
	#define CONSTANTE	14

	int main()
		{
		...
		scanf( "%i", CONSTANTE );
		...
		}
</PRE>
	</DIV>

	<p>eso sería como hacer:</P>

	<DIV CLASS="ejemplo">
		<PRE>
	scanf( "%i", 14 );
</PRE>
	</DIV>

	<p>Esto es muy grave, estamos diciendo que el valor que escribamos en scanf se almacene en la posición 14 de la
		memoria, lo que puede bloquear el ordenador.
	</P>

	<p>Las constantes se suelen escribir en mayúsculas. Sólo se puede definir una constante por fila. <B>No se pone ";"
			al final.</B>
	</P>

	<p>Las constantes nos proporcionan una mejor comprensión del código fuente. Mira el siguiente programa:</p>

	<DIV CLASS="ejemplo">
		<PRE>
#include &lt;stdio.h&gt;

int main()
	{
	int precio;

	precio = ( 4 * 25 * 100 ) * ( 1.16 );
	
	printf( "El precio total es: %i", precio  );
	
	return 0;
	}
</PRE>
	</DIV>

	<p>¿Quién entiende lo que quiere decir este programa? Es difícil si no imposible. Hagámoslo de otra forma.</p>

	<DIV CLASS="ejemplo">
		<PRE>
#include &lt;stdio.h&gt;

#define CAJAS			4
#define UNIDADES_POR_CAJA	25
#define PRECIO_POR_UNIDAD 	100
#define IMPUESTOS		1.16

int main()
	{
	int precio;

	precio = ( CAJAS * UNIDADES_POR_CAJA * PRECIO_POR_UNIDAD ) * ( IMPUESTOS );
	
	printf( "El precio total es: %i", precio  );
	
	return 0;
	}
</PRE>
	</DIV>

	<p>¿A que ahora se entiende mejor? Claro que sí. Los números no tienen mucho significado y si revisamos el programa
		un tiempo más tarde ya no nos acordaremos qué cosa era cada número. De la segunda forma nos enteraremos al
		momento.
	</P>

	<p>También podemos definir una constante usando el valor de otras. Por supuesto las otras tienen que estar definidas
		antes:
	</P>

	<PRE CLASS="ejemplo">
#include &lt;stdio.h&gt;

#define CAJAS			4
#define UNIDADES_POR_CAJA	25
#define PRECIO_POR_UNIDAD	100	
<B>#define PRECIO_POR_CAJA		UNIDADES_POR_CAJA * PRECIO_POR_UNIDAD</B>
#define IMPUESTOS		1.16

int main()
	{
	int precio;

	precio = ( CAJAS * <B>PRECIO_POR_CAJA</B> ) * ( IMPUESTOS );
	
	printf( "El precio total es: %i", precio  );
	
	return 0;
	}
</PRE>

	<p>#define tiene más usos aparte de éste, ya los veremos en el capítulo de directivas.
	</P>

	<p class="volver"><a href="#arriba">[Arriba]</a></p>

	<A NAME="ejercicios"></A>

	<!-- Modificaciones:
16/01/2004: añadidos los return 0 que faltaban.-->
	<!-- InstanceEndEditable -->
	<p class="barranavegacionabajo">
		<!-- InstanceBeginEditable name="PieNavegacion" -->
		<a href="cursoc3.html">[Anterior]</a> <a href="cursoc5.html">[Siguiente]</a>
		<a href="index.html" target="_top">[Contenido]</a>
		<A HREF="mailto:cursoc@elrincondelc.com" class="nombre">
			-----------------------------------------------------------------------------------------------------------------
			ISC.
			Jose Nicolas Jimenez Hernandez</A>
		<!-- InstanceEndEditable -->
	</p>

</BODY>

<!-- InstanceEnd -->

</HTML>